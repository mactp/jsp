/* =======================================================
   Friends of Jacob Smith Park – Unified Styles (rewritten)
   Structure: tokens • resets • base • helpers • header/nav • banners • components • pages • utilities • media
   Notes:
   - Zero‑JS mobile nav using <details>. On desktop, list is always visible.
   - Reduced motion friendly. Strong focus states. Stable sticky header.
   - Classnames preserved where possible to minimise HTML changes.
======================================================= */

/* -------------------- tokens -------------------- */
:root{
  /* colors */
  --bg:#f4f3ef; --surface:#ffffff; --fg:#2f2f2f; --muted:#5b5b5b;
  --brand:#2f4f4f; --brand-2:#588157; --brand-3:#a3b18a; --accent:#d4a373;
  --brand-deep:#254545; /* darker brand for contrast on bars */

  /* radii & shadows */
  --radius:.5rem; --radius-lg:.75rem; --shadow:0 2px 6px rgba(0,0,0,.08);

  /* layout */
  --gap:20px; --wrap:min(1100px,92vw);

  /* banners */
  --banner-minh:280px; --banner-minh-sm:200px; --banner-minh-slim:200px; --banner-minh-tall:380px;
  --banner-pad:clamp(48px,6vw,72px);

  /* header */
  --header-h:60px; /* sticky offset and scroll-margin companion */
}

/* -------------------- resets -------------------- */
*,*::before,*::after{box-sizing:border-box}
html{color-scheme:light}
body{margin:0; font-family:ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Arial; line-height:1.6; color:var(--fg); background:var(--bg)}
img{max-width:100%; height:auto; display:block}
svg{display:block}

/* Typography conveniences */
h1,h2,h3{line-height:1.25; color:#344e41}

/* Containers */
.container{width:var(--wrap); margin-inline:auto; padding-inline:clamp(16px,3vw,24px)}

/* Anchor jumps never hide under sticky header */
[id]{scroll-margin-top:calc(var(--header-h) + 30px)}

/* Skip link */
.visually-hidden{position:absolute!important; clip:rect(1px,1px,1px,1px); clip-path:inset(50%); height:1px; width:1px; overflow:hidden; white-space:nowrap}
.skip-link{position:absolute; top:-40px; left:0; background:var(--brand); color:#fff; padding:.5rem 1rem; border-radius:0 0 .25rem .25rem; text-decoration:none; z-index:1000}
.skip-link:focus{top:0}

/* Focus states */
:where(a,button,input,textarea,select,summary)[data-focus="ring"],
:where(a,button,input,textarea,select,summary):focus-visible{
  outline:3px solid #ffcf98; /* accent-ish */
  outline-offset:2px; border-radius:.2rem;
}

/* Motion safety */
@media (prefers-reduced-motion:reduce){
  *{animation-duration:.001ms !important; animation-iteration-count:1 !important; transition-duration:.001ms !important; scroll-behavior:auto !important}
}

/* -------------------- header & navigation -------------------- */
.site-header{
  position:sticky; top:0; z-index:1000;
  height:var(--header-h);
  background:var(--brand-deep); color:#fff; border-bottom:3px solid var(--brand-3);
  box-shadow:0 1px 0 rgba(0,0,0,.04);
}
.header-inner{height:100%; display:flex; align-items:center; gap:1rem}
.site-title{margin:0; font-size:1.15rem; font-weight:800}
.site-title a{color:#fefae0; text-decoration:none}

/* <details> zero‑JS menu */
.nav{display:inline-block; margin-left:auto}
.nav-toggle{ /* this is <summary> */
  list-style:none; cursor:pointer; user-select:none;
  -webkit-tap-highlight-color:transparent; touch-action:manipulation;
  display:inline-grid; place-items:center; width:44px; height:44px;
  border:2px solid rgba(255,255,255,.65); border-radius:10px; background:transparent; color:#fff;
}
.nav-toggle::-webkit-details-marker{display:none}
.nav-toggle::marker{content:""}
.nav-toggle .bars,
.nav-toggle .bars::before,
.nav-toggle .bars::after{
  content:""; display:block; width:22px; height:2.5px; background:#fff; border-radius:2px;
  position:relative; transition:transform .25s ease, top .25s ease, background .25s ease;
}
.nav-toggle .bars::before{position:absolute; top:-7px}
.nav-toggle .bars::after{position:absolute; top:7px}

/* Turn into X when open */
.nav[open] .bars{background:transparent}
.nav[open] .bars::before{top:0; transform:rotate(45deg)}
.nav[open] .bars::after{top:0; transform:rotate(-45deg)}

/* Menu list */
.nav-list{list-style:none; margin:0; padding:12px 16px; display:none; background:#234543; border-radius:10px; box-shadow:var(--shadow)}
.nav[open] .nav-list{display:block}
.nav-list li{margin:0}
.nav-list a{display:block; padding:.5rem 0; color:#fff; text-decoration:none; border-radius:6px; white-space:nowrap}
.nav-list a:hover,.nav-list a:focus-visible{background:rgba(255,255,255,.08)}

/* Desktop: show inline, hide burger */
@media (min-width:900px){
  .nav-toggle{display:none !important}
  .nav .nav-list{display:flex !important; gap:1rem; margin:0; padding:0; background:none; box-shadow:none}
  .nav .nav-list a{color:#fff; padding:0}
}

/* Ensure banner overlays never block the header */
.banner::before,.banner::after{pointer-events:none}

/* -------------------- banners -------------------- */
.banner{position:relative; background:#dbe7c9; display:grid; place-items:center; text-align:center; min-height:var(--banner-minh); padding-block:var(--banner-pad)}
.banner h2{margin:0 0 .4rem; font-size:clamp(1.6rem,4vw,2.4rem); color:#233b35}
.banner p.eyebrow{margin:0 0 .8rem; color:#2f2f2f; opacity:.85}

.banner--image{color:#fff; background-size:cover; background-position:center}
.banner--image::after{content:""; position:absolute; inset:0; background:linear-gradient(180deg,rgba(0,0,0,.25),rgba(0,0,0,.25))}
.banner--image>.container{position:relative; z-index:1}
.banner--default{background-image:url("../images/banner/jsp-banner.jpg")}

.banner--slim{min-height:var(--banner-minh-slim)}
.banner--tall{min-height:var(--banner-minh-tall)}

@media (max-width:640px){
  .banner{min-height:var(--banner-minh-sm)}
  .banner--slim{min-height:160px}
  .banner--tall{min-height:280px}
}

.banner--wildlife{background-image:url("../images/banner/wildlife-hero.jpg")}
.banner--history{background-image:url("../images/banner/history-hero.jpg")}
.banner--home{background:#dbe7c9; padding-block:clamp(64px,9vw,160px)}
.banner--home h2{font-size:clamp(1.8rem,5vw,2.6rem); color:#344e41}

/* -------------------- buttons -------------------- */
.button,.btn,.donate-button{
  display:inline-flex; align-items:center; justify-content:center; gap:.5rem;
  background:var(--brand-2); color:#fff; padding:10px 15px; border-radius:6px; text-decoration:none; border:0; box-shadow:var(--shadow)
}
.button:hover,.button:focus-visible,.btn:hover,.btn:focus-visible,.donate-button:hover,.donate-button:focus-visible{filter:brightness(1.05)}

/* -------------------- homepage sections -------------------- */
.intro{padding-block:30px; background:var(--surface); text-align:center}
.intro a{color:var(--brand)}

.about-park{background:#fff; padding-block:clamp(32px,6vw,64px)}
.about-wrap{display:grid; grid-template-columns:1.1fr .9fr; gap:clamp(20px,4vw,36px); align-items:start}
@media (max-width:900px){.about-wrap{grid-template-columns:1fr}}
.about-text h2{margin-block-start:0}
.about-text p{margin-block:.5rem 1rem}
.about-quote{margin-block:1rem 0; padding:.75rem 1rem; border-inline-start:4px solid var(--brand-3); background:#f7f8f3; border-radius:.5rem}
.about-quote blockquote{margin:0; font-size:1.15rem; font-style:italic}
.about-quote figcaption{font-size:.9rem; color:var(--muted); margin-block-start:.25rem}

.about-collage{display:grid; grid-template-areas:"main main" "a b"; gap:12px}
.about-collage img{border-radius:8px; box-shadow:var(--shadow)}
.about-collage figure:nth-child(1){grid-area:main}
.about-collage figure:nth-child(2){grid-area:a}
.about-collage figure:nth-child(3){grid-area:b}

.top-sections{padding-block:40px}
.card{background:#e9edc9; padding:20px; text-align:center; border-radius:8px; box-shadow:var(--shadow)}

.latest{padding-block:40px}
.cta{background:#fefae0; text-align:center; padding-block:30px}

/* -------------------- newsletter + footer -------------------- */
.newsletter{text-align:center; padding-block:40px; background:var(--brand); color:#fff}
.newsletter input[type="email"]{padding:10px; width:min(320px,80vw); border:none; border-radius:6px}

.site-footer{padding-block:20px; background:#234343; color:#fff}
.site-footer a{color:#ffd9b0}

/* -------------------- visiting -------------------- */
.visit-grid{display:grid; grid-template-columns:1.1fr .9fr; gap:clamp(20px,4vw,36px); padding-block:36px}
.address{background:#fff; padding:12px 14px; border-radius:8px; box-shadow:var(--shadow)}
.key-notes{padding-left:1.1em}
.key-notes li{margin-block:.4rem}
.map-embed{background:#fff; border-radius:10px; overflow:hidden; box-shadow:var(--shadow)}
.map-embed iframe{width:100%; height:320px; border:0}
.map-embed figcaption{padding:8px 10px; font-size:.9rem; color:var(--muted); background:#fff}
.callout{background:#fefae0; border-left:5px solid var(--brand-3); padding:1.25rem 1rem; border-radius:6px; margin-block:2rem; box-shadow:var(--shadow)}
@media (max-width:900px){.visit-grid{grid-template-columns:1fr}}

/* -------------------- about (committee + projects) -------------------- */
.committee-grid{display:grid; grid-template-columns:repeat(auto-fit,minmax(160px,1fr)); gap:1.5rem; margin-block:1.5rem}
.committee-grid img{border-radius:50%; aspect-ratio:1/1; object-fit:cover}
.committee-grid h4{margin:.5rem 0 0}
.committee-grid p{margin:0; font-size:.9rem; color:var(--muted)}

.project-grid{display:grid; grid-template-columns:repeat(auto-fit,minmax(240px,1fr)); gap:1.5rem}
.project-grid img{border-radius:8px; box-shadow:var(--shadow)}
.project-grid h4{margin-top:.5rem}

/* -------------------- history layouts -------------------- */
.history-collage{display:grid; grid-template-columns:2fr 1fr 1fr; gap:14px; margin-block:16px 10px}
.history-row{display:grid; grid-template-columns:1fr 1.1fr; gap:clamp(16px,3vw,28px); align-items:start; margin-block:16px 26px}
.history-grid{display:grid; grid-template-columns:repeat(2,1fr); gap:clamp(16px,3vw,28px); margin-block:18px 26px}
.history-collage figure,.history-grid figure,.history-row figure{margin:0}
.history-collage img,.history-grid img,.history-row img{width:100%; border-radius:8px; box-shadow:var(--shadow)}
.history-collage figcaption,.history-grid figcaption{font-size:.9rem; color:var(--muted); margin-top:6px}

.timeline{list-style:none; padding:0; margin:10px 0 24px; border-left:3px solid var(--brand-3)}
.timeline li{position:relative; padding:0 0 14px 16px}
.timeline h4{margin:0 0 4px}
.t-dot{position:absolute; left:-7px; top:2px; width:11px; height:11px; border-radius:50%; background:var(--brand-2); box-shadow:0 0 0 3px rgba(88,129,87,.2)}

.family-legacy{margin-block:26px 34px}
.family-legacy h4,.family-legacy h5{margin:0 0 4px}
.family-legacy h5{font-size:1rem}

.bio-card{display:grid; grid-template-columns:1fr 1.2fr; gap:clamp(16px,3vw,28px); align-items:start; margin-block:12px 20px}
.bio-photo img{border-radius:8px; box-shadow:var(--shadow)}
.muted{color:var(--muted); font-size:.9rem}
.smallprint{font-size:.9rem}
.family-grid{margin-top:10px}
.family-grid img{border-radius:8px; box-shadow:var(--shadow)}

.archives .archive{background:#fff; border:1px solid #e6e6e6; border-radius:8px; margin-block:8px; box-shadow:0 1px 2px rgba(0,0,0,.03)}
.archives .archive>summary{cursor:pointer; padding:10px 12px; font-weight:600; list-style:none}
.archives .archive[open]>summary{border-bottom:1px solid #eee}
.archives .archive p{margin:0; padding:10px 12px 12px}
.archives time{color:var(--brand)}

@media (max-width:900px){
  .history-collage{grid-template-columns:1fr 1fr}
  .history-row{grid-template-columns:1fr}
  .history-grid{grid-template-columns:1fr}
}

/* -------------------- wildlife -------------------- */
.wildlife-page .image-grid{display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:15px; margin:20px 0}
.wildlife-page .image-grid img{border-radius:6px; cursor:pointer; transition:transform .2s ease}
.wildlife-page .image-grid img:hover{transform:scale(1.03)}

.season-block{padding:20px; margin-bottom:25px; border-radius:6px; border-left:5px solid; line-height:1.6; background:#fefae0; transition:transform .2s ease, box-shadow .2s ease; position:relative}
.season-block h4{margin-top:0; font-size:1.2rem; font-weight:700}
.season-block:hover,.season-block:focus-within{transform:scale(1.01); box-shadow:0 3px 8px rgba(0,0,0,.08)}
.season-block.winter{background:#e8f4f8; border-left-color:#87bcd9}
.season-block.spring{background:#edf8e5; border-left-color:#8dc98d}
.season-block.summer{background:#fff8e1; border-left-color:var(--accent)}
.season-block.autumn{background:#fbe8d3; border-left-color:#e39457}
.season-block::after{content:""; position:absolute; right:15px; bottom:15px; width:40px; height:40px; opacity:.06; background-size:contain; background-repeat:no-repeat}
.season-block.winter::after{background-image:url("../images/icons/snowflake.png")}
.season-block.spring::after{background-image:url("../images/icons/flower.png")}
.season-block.summer::after{background-image:url("../images/icons/sun.png")}
.season-block.autumn::after{background-image:url("../images/icons/leaf.png")}
@media (max-width:600px){.season-block{padding:15px} .season-block::after{width:28px; height:28px}}

/* -------------------- get involved -------------------- */
.cta-grid{display:grid; grid-template-columns:repeat(auto-fit,minmax(240px,1fr)); gap:var(--gap); margin-block:24px 12px}
.cta-card{background:#fff; border-radius:10px; padding:18px; box-shadow:var(--shadow); border:1px solid #eaeaea}
.cta-card h3{margin-top:0}

.event-cards{display:grid; grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); gap:var(--gap); margin-block:10px 22px}
.event{display:grid; grid-template-columns:auto 1fr; gap:14px; background:#fff; border:1px solid #eaeaea; border-radius:10px; padding:14px; box-shadow:var(--shadow)}
.date-badge{width:64px; min-width:64px; height:64px; border-radius:10px; background:var(--brand); color:#fff; display:grid; place-items:center; line-height:1; text-align:center}
.date-badge .mon{font-size:.8rem; opacity:.9; text-transform:uppercase}
.date-badge .day{font-size:1.4rem; font-weight:800; margin-top:.1rem}
.event h4{margin:0 0 6px}

.projects-list{list-style:none; padding:0; margin:8px 0 24px}
.projects-list li{background:#fff; border:1px solid #eaeaea; border-radius:10px; padding:12px 14px; box-shadow:var(--shadow); margin-bottom:12px}
.proj-head{display:flex; justify-content:space-between; align-items:center; margin-bottom:6px}
.pct{color:var(--muted); font-weight:600}
.progress{background:#f2f2f2; height:10px; border-radius:999px; overflow:hidden}
.progress>span{display:block; height:100%; background:linear-gradient(90deg,var(--brand-3),var(--brand-2))}

/* -------------------- forms (volunteer/contact) -------------------- */
.vol-form{background:#fff; border:1px solid #eaeaea; border-radius:10px; padding:16px; box-shadow:var(--shadow)}
.vol-form .form-row{margin-bottom:12px; display:grid; gap:6px}
.vol-form label,.vol-form legend{font-weight:600}
.vol-form input[type="text"],.vol-form input[type="email"],.vol-form textarea{border:1px solid #d9d9d9; border-radius:6px; padding:10px 12px; font:inherit; width:100%; background:#fff}
.vol-form fieldset{border:0; padding:0}
.vol-form fieldset label{display:inline-flex; align-items:center; gap:8px; margin-right:14px}
.vol-form .agree label{font-weight:400}
.vol-form .form-actions{display:flex; gap:10px; align-items:center; flex-wrap:wrap}
.hp-field{position:absolute; left:-9999px; width:1px; height:1px}

/* -------------------- two-column alternating rows -------------------- */
.two-col{display:grid; grid-template-columns:1.1fr .9fr; gap:clamp(20px,4vw,36px); align-items:center; margin-block:2.5rem}
.two-col img{border-radius:8px; box-shadow:var(--shadow); cursor:pointer; transition:transform .2s ease}
.two-col img:hover{transform:scale(1.02)}
.two-col:nth-child(even){grid-template-columns:.9fr 1.1fr}
.two-col:nth-child(even)>div:first-child{order:2}
.two-col:nth-child(even)>div:last-child{order:1}
@media (max-width:800px){
  .two-col{grid-template-columns:1fr}
  .two-col:nth-child(even)>div:first-child,.two-col:nth-child(even)>div:last-child{order:initial}
}

/* -------------------- contact -------------------- */
.contact-cards{display:grid; grid-template-columns:repeat(auto-fit,minmax(230px,1fr)); gap:var(--gap); margin-block:20px}
.contact-card{background:#fff; border:1px solid #eaeaea; border-radius:10px; padding:16px; box-shadow:var(--shadow)}
.contact-detail-grid{display:grid; grid-template-columns:1.2fr .8fr; gap:var(--gap); align-items:start}
@media (max-width:900px){.contact-detail-grid{grid-template-columns:1fr}}

/* -------------------- lightbox -------------------- */
#lightbox-overlay{position:fixed; inset:0; background:rgba(0,0,0,.85); display:none; align-items:center; justify-content:center; flex-direction:column; z-index:2000}
#lightbox-overlay img{max-width:90%; max-height:85%; border-radius:8px; box-shadow:0 0 15px rgba(0,0,0,.5)}
#lightbox-overlay .close-btn{position:absolute; top:20px; right:20px; background:var(--accent); color:#000; border:none; font-size:1rem; padding:8px 14px; border-radius:5px; cursor:pointer; font-weight:700; box-shadow:0 2px 6px rgba(0,0,0,.3)}
#lightbox-overlay .close-btn:hover,#lightbox-overlay .close-btn:focus{background:#c07a3f}

/* -------------------- history subnav (pills) -------------------- */
.subnav{background:linear-gradient(180deg, rgba(255,255,255,.85), rgba(255,255,255,.85)); border-top:1px solid #edf1ed; border-bottom:1px solid #edf1ed}
.subnav__inner{display:flex; justify-content:center; flex-wrap:wrap; gap:.6rem; padding:12px 10px 18px; overflow-x:auto; scrollbar-width:thin}
.subnav__link{display:inline-block; padding:.58rem .95rem; border-radius:999px; background:#fff; color:var(--brand); border:1px solid #e3e7e2; text-decoration:none; font-weight:700; letter-spacing:.1px; box-shadow:0 2px 6px rgba(0,0,0,.06); transition:transform .12s ease, background-color .12s ease, color .12s ease, box-shadow .12s ease; white-space:nowrap}
.subnav__link:hover,.subnav__link:focus-visible{background:#eff4ef; box-shadow:0 4px 12px rgba(0,0,0,.08); transform:translateY(-1px); outline:none}
.subnav__link[aria-current="true"],.subnav__link[aria-current="page"]{background:var(--brand-2); color:#fff; border-color:var(--brand-2); box-shadow:0 6px 16px rgba(0,0,0,.12)}
.subnav--sticky{position:sticky; top:calc(var(--header-h) - 4px); z-index:5; backdrop-filter:blur(4px)}
.section-anchor{scroll-margin-top:calc(var(--header-h) + 60px)}

/* -------------------- utilities -------------------- */
.key-list{padding-left:1.1em}
.key-list li{margin-block:.35rem}

/* -------------------- media query hardening -------------------- */
@media (min-width:900px){
  /* hard override: ensure desktop nav never hides even if attributes linger */
  #primary-nav, #primary-nav[hidden], .nav .nav-list{display:flex !important; gap:1rem; margin:0; padding:0; list-style:none; background:none; box-shadow:none}
}
